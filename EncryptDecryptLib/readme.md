# <span class='tabLabel'>About</span>

A library implementing encryption and decryption of files using an algorithm available on the system (part of JDK) or using the Bouncy Castle Java security provided that is bundled with this library.

# Description

The library supports the following operations:
- Encode an input file
- Decode an output file
- List of available encryption algorithms

# Bundled Bouncy Castle version

| Library version | Bouncy Castle version|
|----------|--------------------|
| 1.0      | 1.71               |

# Properties
Name: EncryptDecryptLib  
Label: Encrypt/Decrypt  
Author: CloverDX  
Version: 1.0.1  
Compatible: CloverDX 6.0 and newer  

# Tags
encrypt decrypt security bouncy-castle symmetric-cipher

# <span class='tabLabel'>Documentation</span>

## GetAlgorithms
Lists all available encryption algorithms for all providers installed on the system.

### Ports & metadata

| Port     | Used for           |
|----------|--------------------|
| Output 0 | Algorithm info     |
| Output 1 | Provider info      |

Metadata is set and auto-propagated out of the component on each port.

## EncryptFile

Encrypts a file (specified as URL) with selected algorithm and saves to another file.

Input and output files are specified on the input edge. Password and salt are also specified on the input edge, so each file can be encrypted using different values. The encryption algorithm details are set using the components parameters.

The input path (inputFileURL field) provided via input port must be absolute paths, because relative paths are resolved relative to the library root directory by CloverDX.

### Ports & metadata

| Port     | Used for           |
|----------|--------------------|
| Input 0  | Encryption task |
| Output 0 | Encryption task result |

Metadata is set and auto-propagated out of the component on each port.

### Parameters
| Parameter label | Description | Required? | Category | Editor type | Editor type details |
| --- | --- | --- | --- | --- | --- |
| Crypto transformation name (algorithm/mode/padding) | Crypto transformation name (algorithm/mode/padding).<br><br>Algorithm is one of transformation algorithms available on the system.<br>Mode is a block cipher mode. There are many modes available, for generic and secure encryption use CTR mode.<br>Padding defines padding to use. If you use CTR mode (streaming), you can use NOPADDING. | false | basic |   |   |
| Key algorithm name | Specify the name of the algorithm to use to generate encryption key from the provided password. | false | basic |   |   |
| Key generator iterations | Number of iterations (of hashing) executed by the key generation algorithm. | false | basic |   |   |
| Length of key in bits | The length of the key that will be generated by the key generation algorithm. | false | basic |   |   |
| Read/write block size (B) | Size of buffer used by the component for reading/writing streams. | false | advanced |   |   |
| Output base directory | The final output path will be the concatenation of this path and the path passed in on the input edge. | false | basic | file picker | Only directories. |

## DecryptFile

Decrypts a file (specified as URL) with the selected algorithm and saves to another file.

Input and output files are specified on the input edge. Password and salt are also specified on the input edge, so each file can be decrypted using different values. The decryption algorithm details are set using the components parameters.

The input path (inputFileURL field) provided via input port must be absolute paths, because relative paths are resolved relative to the library root directory by CloverDX.

### Ports & metadata

| Port     | Used for           |
|----------|--------------------|
| Input 0  | Decryption task |
| Output 0 | Decryption task result |

Metadata is set and auto-propagated out of the component on each port.

### Parameters
| Parameter label | Description | Required? | Category | Editor type | Editor type details |
| --- | --- | --- | --- | --- | --- |
| Crypto transformation name (algorithm/mode/padding) | Crypto transformation name (algorithm/mode/padding).<br><br>Algorithm is one of transformation algorithms available on the system.<br>Mode is a block cipher mode. There are many modes available, for generic and secure encryption use CTR mode.<br>Padding defines padding to use. If you use CTR mode (streaming), you can use NOPADDING. | false | basic |   |   |
| Key algorithm name | Specify the name of the algorithm to use to generate encryption key form the provided password. | false | basic |   |   |
| Key generator iterations | Number of iterations (of hashing) executed by the key generation algorithm. | false | basic |   |   |
| Length of key in bits | The length of the key that will be generated by the key generation algorithm. | false | basic |   |   |
| Read/write block size (B) | Size of buffer used by the component for reading/writing streams. | false | advanced |   |   |
| Output base directory | The final output path will be the concatenation of this path and the path passed in on the input edge. | false | basic | file picker | Only directories. |

# <span class='tabLabel'>Installation & Setup</span>

### Online installation (Server connected to Internet)

1. In Server Console, navigate to Libraries > Install library from repository
2. Select Library Repository dropdown > CloverDX Marketplace
3. Check the box next to the libraries you want to install (if there are any dependencies, you can install all of them once - see Requirements above)
4. Click Install

### Offline installation (Server without Internet connection)

1. Download all the libraries you need from the CloverDX Marketplace (including dependencies, see Requirements above). You should get a ".clib" file for each library
2. Transfer the ".clib" file(s) to your offline Server machine (USB stick, ...)
3. In Server Console, navigate to Libraries > Install library from repository > Down arrow for more options > Browse local files...
4. Select the downloaded .clib files on your disk and install
